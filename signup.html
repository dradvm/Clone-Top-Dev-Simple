<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="./images/small-logo.jpg" type="image/x-icon">
    <!-- Css -->
    <link rel="stylesheet" href="./lib/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="./lib/fontawesome/css/all.min.css">
    <link rel="stylesheet" href="./lib/Swiper/swiper-bundle.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <!-- Js -->
    <script defer src="./lib/Popper/popper.min.js"></script>
    <script defer src="./lib/bootstrap/js/bootstrap.min.js"></script>
    <script defer src="./lib/fontawesome/js/all.min.js"></script>
    <script defer src="./lib/Swiper/swiper-bundle.min.js"></script>
    <script defer src="./lib/Angularjs/angular.min.js"></script>
    <script defer src="./lib/Angularjs/angular-route.min.js"></script>
    <script defer src="./js/main.js"></script>
    <title>Nhóm 2</title>
    </style>
</head>

<body>

    <div class=" bg-white-50 vh-100 p-0 row gx-0 align-items-center">
        <div class="col-sm-6 p-0 h-100 col-0 d-sm-block d-none">
            <img class="w-100 h-100" src="./images/new.png" alt="">
        </div>
        <div class=" form  col-sm-6 col-12 text-center ">

            <form action="#" method="post" class="text-center d-flex justify-content-center align-items-center m-2">

                <div class="d-flex flex-column text-center justify-content-around w-100 align-items-center">
                    <div class="w-50 m-3">
                        <img class="w-100 h-100" src="./images/logo.png" alt="">
                    </div>
                    <div>
                        <h1 class="fw-bold text-danger">SIGN UP!</h1>
                    </div>

                    <div class="d-flex flex-column w-75" style="padding:5px;">
                        <label class="text-danger text-start m-2" for="email">Email Address</label>
                        <input class="rounded p-1" type="email" placeholder="Enter Email" name="email" id="email">
                        <span class="d-none warn_email text-danger text-start ">Vui lòng nhập email!</span>
                        <span class="check_email text-danger text-start d-none">Email không hợp lệ</span>
                    </div>
                    <div class="d-flex flex-column w-75" style="padding:5px;">
                        <label class="text-danger text-start m-2" for="pass">Password</label>
                        <input class="rounded p-1 pass" type="password" placeholder="Enter Password" id="pass">
                        <span class="d-none text-danger text-start warn_pass">Vui lòng nhập mật khẩu!</span>
                        <span class=" d-none text-danger text-start warn_passlength">Nhập mật khẩu tối thiểu 8 kí
                            tự</span>
                    </div>
                    <div class="d-flex flex-column w-75" style="padding:5px;">
                        <label class="text-danger text-start m-2 " for="confirm_pass">Confirm Password</label>
                        <input class="rounded p-1 confirm_pass" type="password" placeholder="Enter Password"
                            id="confirm_pass">
                        <span class="d-none text-danger text-start warn_confirm_pass1 ">Vui lòng nhập mật khẩu!</span>
                        <span class="d-none text-danger text-start warn_confirm_pass2 ">Mật khẩu không chính xác!</span>
                    </div>

                    <div class="text-center mt-2">

                        <button class="my-btn fw-bold submit " type="submit"
                            href="./signin.html">SIGN

                            UP</button>

                    </div>
                    <div class="text-center mt-2">
                        <i class="text-my-primary cursor m-3 fab fa-google" style="font-size: 1.5em;"></i>
                        <i class="text-my-primary cursor m-3 fa-brands fa-facebook-f"
                            style="font-size: 1.5em;"></i></i>
                        <i class="text-my-primary cursor m-3 fa-brands fa-twitter" style="font-size: 1.5em;"></i></i>
                    </div>

                    <div class="mt-3">
                        <p class="text-dark">Do you have an account? <a class="text-danger ms-1"
                                href="./signin.html">Sign in!</a></p>
                    </div>

                </div>
            </form>

        </div>



        </form>
    </div>
    </div>
    <script>
        document.querySelector(".submit").onclick = function (e) {
            e.preventDefault();
            email = document.querySelector("#email").value;
            password = document.querySelector("#pass").value;
            password2 = document.querySelector("#confirm_pass").value;
            if (email) {

            }
            else {
                document.querySelector(".warn_email").classList.remove("d-none");

            }

            if (password) {

            }
            else {
                document.querySelector(".warn_pass").classList.remove("d-none");
            }

            if (password2) {
                
            }
            else {
                document.querySelector(".warn_confirm_pass1").classList.remove("d-none");
                return;
            }
            var nhap_mk = document.querySelector("#pass").value;
            var nhap_laimk = document.querySelector("#confirm_pass").value;
            if (nhap_mk == nhap_laimk) {
                document.querySelector(".warn_confirm_pass2").classList.add("d-none");
            } else {
                document.querySelector(".warn_confirm_pass2").classList.remove("d-none");
            }
            
            // ĐƯA DỮ LIỆU LÊN LOCAL STORAGE

            if (email && password && password == password2) {
                alert("Đăng kí thành công")
                let acc = localStorage.getItem('acc') ? JSON.parse(localStorage.getItem('acc')) : [];
                acc.push({
                    email: email,
                    password: password,
                });
                localStorage.setItem('acc', JSON.stringify(acc));
                localStorage.setItem("user", JSON.stringify({
                    email: email
                }))
                window.location.href = "index.html"
            }

        }

        var d = document.querySelectorAll("input");
        d.forEach(function (item) {
            item.addEventListener("input", function () {
                item.nextElementSibling.classList.add("d-none");
            })
        })

        // KIỂM TRA EMAIL
        document.querySelector("#email").onkeyup = function () {
            document.querySelector(".warn_email").classList.add("d-none");
            var email = document.querySelector("#email");
            var check_email = document.querySelector("#email");
            var check = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            if (!check.test(email.value) && email.value.length > 0) {
                document.querySelector(".check_email").classList.remove("d-none");
            }
            else {
                document.querySelector(".check_email").classList.add("d-none");
            }
        }



        //KIỂM TRA ĐỘ DÀI MẬT KHẨU

        document.querySelector("#pass").addEventListener("blur", function () {
            var enter_pass = document.querySelector("#pass").value.length;
            if (enter_pass < 8 && enter_pass > 0) {
                document.querySelector(".warn_passlength").classList.remove("d-none");
            } else {
                document.querySelector(".warn_passlength").classList.add("d-none");
            }
        });


    </script>
</body>

</html>